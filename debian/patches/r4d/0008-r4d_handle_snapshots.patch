From a7805d0a846c7abe1d8dbd9d82ef0977125bcef8 Mon Sep 17 00:00:00 2001
From: Benedikt Spranger <b.spranger@linutronix.de>
Date: Thu, 23 Aug 2018 15:56:50 +0200
Subject: [PATCH 9/9] r4d_handle_snapshots

---
 src/r4d/r4d_driver.c | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

diff --git a/src/r4d/r4d_driver.c b/src/r4d/r4d_driver.c
index bbbe711c40..e4721ca48e 100644
--- a/src/r4d/r4d_driver.c
+++ b/src/r4d/r4d_driver.c
@@ -620,6 +620,26 @@ r4dConnectIsSecure(virConnectPtr conn ATTRIBUTE_UNUSED)
 }
 
 static int
+r4dDomainSnapshotNum(virDomainPtr domain ATTRIBUTE_UNUSED,
+                     unsigned int flags ATTRIBUTE_UNUSED)
+{
+    /* we do not provide snapshots ATM */
+    logger (__func__);
+    return 0;
+}
+
+static int
+r4dDomainSnapshotListNames(virDomainPtr domain ATTRIBUTE_UNUSED,
+                           char **names ATTRIBUTE_UNUSED,
+                           int nameslen ATTRIBUTE_UNUSED,
+                           unsigned int flags ATTRIBUTE_UNUSED)
+{
+    /* we do not provide snapshots ATM */
+    logger (__func__);
+    return 0;
+}
+
+static int
 r4dDomainOpenConsole(virDomainPtr dom,
                      const char * dev_name ATTRIBUTE_UNUSED,
                      virStreamPtr st,
@@ -744,6 +764,9 @@ static virHypervisorDriver r4dHypervisorDriver = {
 
     .domainIsActive =  r4dDomainIsActive, /* 1.3.1 */
 
+    .domainSnapshotNum = r4dDomainSnapshotNum, /* 1.3.1 */
+    .domainSnapshotListNames = r4dDomainSnapshotListNames, /* 1.3.1 */
+
     .domainOpenConsole =  r4dDomainOpenConsole, /* 1.3.1 */
 
     .domainCoreDump =  r4dDomainCoreDump, /* 1.3.1 */
--
2.23.0
