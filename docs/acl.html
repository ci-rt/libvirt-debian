<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
        This file is autogenerated from acl.html.in
        Do not edit this file. Changes will be lost.
      -->
  <!--
        This page was generated at Wed Jun 27 09:25:15 UTC 2018.
      -->
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" type="text/css" href="main.css"/>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/>
    <link rel="manifest" href="/manifest.json"/>
    <meta name="theme-color" content="#ffffff"/>
    <title>libvirt: Client access control</title>
    <meta name="description" content="libvirt, virtualization, virtualization API"/>
    <script type="text/javascript">
      <!--
          
      function init() {
          window.addEventListener('scroll', function(e){
              var distanceY = window.pageYOffset || document.documentElement.scrollTop,
              shrinkOn = 94
              home = document.getElementById("home");
              links = document.getElementById("jumplinks");
              search = document.getElementById("search");
              body = document.getElementById("body");
              if (distanceY > shrinkOn) {
                  if (home.className != "navhide") {
                      body.className = "navhide"
                      home.className = "navhide"
                      links.className = "navhide"
                      search.className = "navhide"
                  }
              } else {
                  if (home.className == "navhide") {
                      body.className = ""
                      home.className = ""
                      links.className = ""
                      search.className = ""
                  }
              }
          });
      }
      window.onload = init();
           
          -->
    </script>
  </head>
  <body>
    <div id="body">
      <div id="content">
        <h1>Client access control</h1>
        <p>
      Libvirt's client access control framework allows administrators
      to setup fine grained permission rules across client users,
      managed objects and API operations. This allows client connections
      to be locked down to a minimal set of privileges.
    </p>
        <ul>
          <li>
            <a href="#intro">Access control introduction</a>
          </li>
          <li>
            <a href="#drivers">Access control drivers</a>
          </li>
          <li>
            <a href="#perms">Objects and permissions</a>
          </li>
        </ul>
        <h2>
          <a id="intro">Access control introduction</a>
          <a class="headerlink" href="#intro" title="Permalink to this headline">¶</a>
        </h2>
        <p>
      In a default configuration, the libvirtd daemon has three levels
      of access control. All connections start off in an unauthenticated
      state, where the only API operations allowed are those required
      to complete authentication. After successful authentication, a
      connection either has full, unrestricted access to all libvirt
      API calls, or is locked down to only "read only" operations,
      according to what socket a client connection originated on.
    </p>
        <p>
      The access control framework allows authenticated connections to
      have fine grained permission rules to be defined by the administrator.
      Every API call in libvirt has a set of permissions that will
      be validated against the object being used. For example, the
      <code>virDomainSetSchedulerParametersFlags</code> method will
      check whether the client user has the <code>write</code>
      permission on the <code>domain</code> object instance passed
      in as a parameter. Further permissions will also be checked
      if certain flags are set in the API call. In addition to
      checks on the object passed in to an API call, some methods
      will filter their results. For example the <code>virConnectListAllDomains</code>
      method will check the <code>search_domains</code> on the <code>connect</code>
      object, but will also filter the returned <code>domain</code>
      objects to only those on which the client user has the
      <code>getattr</code> permission.
    </p>
        <h2>
          <a id="drivers">Access control drivers</a>
          <a class="headerlink" href="#drivers" title="Permalink to this headline">¶</a>
        </h2>
        <p>
      The access control framework is designed as a pluggable
      system to enable future integration with arbitrary access
      control technologies. By default, the <code>none</code>
      driver is used, which does no access control checks at
      all. At this time, libvirt ships with support for using
      <a href="http://www.freedesktop.org/wiki/Software/polkit/">polkit</a> as a real access
      control driver. To learn how to use the polkit access
      driver consult <a href="aclpolkit.html">the configuration
      docs</a>.
    </p>
        <p>
      The access driver is configured in the <code>libvirtd.conf</code>
      configuration file, using the <code>access_drivers</code>
      parameter. This parameter accepts an array of access control
      driver names. If more than one access driver is requested,
      then all must succeed in order for access to be granted.
      To enable 'polkit' as the driver:
    </p>
        <pre>
# augtool -s set '/files/etc/libvirt/libvirtd.conf/access_drivers[1]' polkit
    </pre>
        <p>
      And to reset back to the default (no-op) driver
    </p>
        <pre>
# augtool -s rm /files/etc/libvirt/libvirtd.conf/access_drivers
    </pre>
        <p><strong>Note:</strong> changes to libvirtd.conf require that
      the libvirtd daemon be restarted.
    </p>
        <h2>
          <a id="perms">Objects and permissions</a>
          <a class="headerlink" href="#perms" title="Permalink to this headline">¶</a>
        </h2>
        <p>
      Libvirt applies access control to all the main object
      types in its API. Each object type, in turn, has a set
      of permissions defined. To determine what permissions
      are checked for specific API call, consult the
      <a href="html/index.html">API reference manual</a>
      documentation for the API in question.
    </p>
        <h3>
          <a name="object_connect">virConnectPtr</a>
        </h3>
        <table class="acl">
          <thead>
            <tr>
              <th>Permission</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a name="perm_connect_detect_storage_pools">detect-storage-pools</a>
              </td>
              <td>Detect storage pools</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_getattr">getattr</a>
              </td>
              <td>Access connection</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_interface_transaction">interface-transaction</a>
              </td>
              <td>Interface transactions</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_pm_control">pm-control</a>
              </td>
              <td>Use host power management</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_read">read</a>
              </td>
              <td>Read host</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_search_domains">search-domains</a>
              </td>
              <td>List domains</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_search_interfaces">search-interfaces</a>
              </td>
              <td>List interfaces</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_search_networks">search-networks</a>
              </td>
              <td>List networks</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_search_node_devices">search-node-devices</a>
              </td>
              <td>List node devices</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_search_nwfilter_bindings">search-nwfilter-bindings</a>
              </td>
              <td>List network filter bindings</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_search_nwfilters">search-nwfilters</a>
              </td>
              <td>List network filters</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_search_secrets">search-secrets</a>
              </td>
              <td>List secrets</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_search_storage_pools">search-storage-pools</a>
              </td>
              <td>List storage pools</td>
            </tr>
            <tr>
              <td>
                <a name="perm_connect_write">write</a>
              </td>
              <td>Write host</td>
            </tr>
          </tbody>
        </table>
        <h3>
          <a name="object_domain">virDomainPtr</a>
        </h3>
        <table class="acl">
          <thead>
            <tr>
              <th>Permission</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a name="perm_domain_block_read">block-read</a>
              </td>
              <td>Read domain block</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_block_write">block-write</a>
              </td>
              <td>Write domain block</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_core_dump">core-dump</a>
              </td>
              <td>Dump domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_delete">delete</a>
              </td>
              <td>Delete domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_fs_freeze">fs-freeze</a>
              </td>
              <td>Freeze and thaw domain filesystems</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_fs_trim">fs-trim</a>
              </td>
              <td>Trim domain filesystems</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_getattr">getattr</a>
              </td>
              <td>Access domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_hibernate">hibernate</a>
              </td>
              <td>Hibernate domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_init_control">init-control</a>
              </td>
              <td>Domain init control</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_inject_nmi">inject-nmi</a>
              </td>
              <td>Inject domain NMI</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_mem_read">mem-read</a>
              </td>
              <td>Read domain memory</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_migrate">migrate</a>
              </td>
              <td>Migrate domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_open_device">open-device</a>
              </td>
              <td>Open domain device</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_open_graphics">open-graphics</a>
              </td>
              <td>Open domain graphics</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_open_namespace">open-namespace</a>
              </td>
              <td>Open domain namespace</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_pm_control">pm-control</a>
              </td>
              <td>Use domain power management</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_read">read</a>
              </td>
              <td>Read domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_read_secure">read-secure</a>
              </td>
              <td>Read secure domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_reset">reset</a>
              </td>
              <td>Reset domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_save">save</a>
              </td>
              <td>Save domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_screenshot">screenshot</a>
              </td>
              <td>Take domain screenshot</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_send_input">send-input</a>
              </td>
              <td>Send domain input</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_send_signal">send-signal</a>
              </td>
              <td>Send domain signal</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_set_password">set-password</a>
              </td>
              <td>Set password of the domain's account</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_set_time">set-time</a>
              </td>
              <td>Write domain time</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_snapshot">snapshot</a>
              </td>
              <td>Snapshot domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_start">start</a>
              </td>
              <td>Start domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_stop">stop</a>
              </td>
              <td>Stop domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_suspend">suspend</a>
              </td>
              <td>Suspend domain</td>
            </tr>
            <tr>
              <td>
                <a name="perm_domain_write">write</a>
              </td>
              <td>Write domain</td>
            </tr>
          </tbody>
        </table>
        <h3>
          <a name="object_interface">virInterfacePtr</a>
        </h3>
        <table class="acl">
          <thead>
            <tr>
              <th>Permission</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a name="perm_interface_delete">delete</a>
              </td>
              <td>Delete interface</td>
            </tr>
            <tr>
              <td>
                <a name="perm_interface_getattr">getattr</a>
              </td>
              <td>Access interface</td>
            </tr>
            <tr>
              <td>
                <a name="perm_interface_read">read</a>
              </td>
              <td>Read interface</td>
            </tr>
            <tr>
              <td>
                <a name="perm_interface_save">save</a>
              </td>
              <td>Save interface</td>
            </tr>
            <tr>
              <td>
                <a name="perm_interface_start">start</a>
              </td>
              <td>Start interface</td>
            </tr>
            <tr>
              <td>
                <a name="perm_interface_stop">stop</a>
              </td>
              <td>Stop interface</td>
            </tr>
            <tr>
              <td>
                <a name="perm_interface_write">write</a>
              </td>
              <td>Write interface</td>
            </tr>
          </tbody>
        </table>
        <h3>
          <a name="object_network">virNetworkPtr</a>
        </h3>
        <table class="acl">
          <thead>
            <tr>
              <th>Permission</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a name="perm_network_delete">delete</a>
              </td>
              <td>Delete network</td>
            </tr>
            <tr>
              <td>
                <a name="perm_network_getattr">getattr</a>
              </td>
              <td>Access network</td>
            </tr>
            <tr>
              <td>
                <a name="perm_network_read">read</a>
              </td>
              <td>Read network</td>
            </tr>
            <tr>
              <td>
                <a name="perm_network_save">save</a>
              </td>
              <td>Save network</td>
            </tr>
            <tr>
              <td>
                <a name="perm_network_start">start</a>
              </td>
              <td>Start network</td>
            </tr>
            <tr>
              <td>
                <a name="perm_network_stop">stop</a>
              </td>
              <td>Stop network</td>
            </tr>
            <tr>
              <td>
                <a name="perm_network_write">write</a>
              </td>
              <td>Write network</td>
            </tr>
          </tbody>
        </table>
        <h3>
          <a name="object_node_device">virNodeDevicePtr</a>
        </h3>
        <table class="acl">
          <thead>
            <tr>
              <th>Permission</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a name="perm_node_device_detach">detach</a>
              </td>
              <td>Detach node device</td>
            </tr>
            <tr>
              <td>
                <a name="perm_node_device_getattr">getattr</a>
              </td>
              <td>Access node device</td>
            </tr>
            <tr>
              <td>
                <a name="perm_node_device_read">read</a>
              </td>
              <td>Read node device</td>
            </tr>
            <tr>
              <td>
                <a name="perm_node_device_start">start</a>
              </td>
              <td>Start node device</td>
            </tr>
            <tr>
              <td>
                <a name="perm_node_device_stop">stop</a>
              </td>
              <td>Stop node device</td>
            </tr>
            <tr>
              <td>
                <a name="perm_node_device_write">write</a>
              </td>
              <td>Write node device</td>
            </tr>
          </tbody>
        </table>
        <h3>
          <a name="object_nwfilter">virNWFilterPtr</a>
        </h3>
        <table class="acl">
          <thead>
            <tr>
              <th>Permission</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a name="perm_nwfilter_binding_create">binding-create</a>
              </td>
              <td>Create network filter binding</td>
            </tr>
            <tr>
              <td>
                <a name="perm_nwfilter_binding_delete">binding-delete</a>
              </td>
              <td>Delete network filter binding</td>
            </tr>
            <tr>
              <td>
                <a name="perm_nwfilter_binding_getattr">binding-getattr</a>
              </td>
              <td>Access network filter</td>
            </tr>
            <tr>
              <td>
                <a name="perm_nwfilter_binding_read">binding-read</a>
              </td>
              <td>Read network filter binding</td>
            </tr>
            <tr>
              <td>
                <a name="perm_nwfilter_delete">delete</a>
              </td>
              <td>Delete network filter</td>
            </tr>
            <tr>
              <td>
                <a name="perm_nwfilter_getattr">getattr</a>
              </td>
              <td>Access network filter</td>
            </tr>
            <tr>
              <td>
                <a name="perm_nwfilter_read">read</a>
              </td>
              <td>Read network filter</td>
            </tr>
            <tr>
              <td>
                <a name="perm_nwfilter_save">save</a>
              </td>
              <td>Save network filter</td>
            </tr>
            <tr>
              <td>
                <a name="perm_nwfilter_write">write</a>
              </td>
              <td>Write network filter</td>
            </tr>
          </tbody>
        </table>
        <h3>
          <a name="object_secret">virSecretPtr</a>
        </h3>
        <table class="acl">
          <thead>
            <tr>
              <th>Permission</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a name="perm_secret_delete">delete</a>
              </td>
              <td>Delete secret</td>
            </tr>
            <tr>
              <td>
                <a name="perm_secret_getattr">getattr</a>
              </td>
              <td>Access secret</td>
            </tr>
            <tr>
              <td>
                <a name="perm_secret_read">read</a>
              </td>
              <td>Read secret</td>
            </tr>
            <tr>
              <td>
                <a name="perm_secret_read_secure">read-secure</a>
              </td>
              <td>Read secure secret</td>
            </tr>
            <tr>
              <td>
                <a name="perm_secret_save">save</a>
              </td>
              <td>Save secret</td>
            </tr>
            <tr>
              <td>
                <a name="perm_secret_write">write</a>
              </td>
              <td>Write secret</td>
            </tr>
          </tbody>
        </table>
        <h3>
          <a name="object_storage_pool">virStoragePoolPtr</a>
        </h3>
        <table class="acl">
          <thead>
            <tr>
              <th>Permission</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a name="perm_storage_pool_delete">delete</a>
              </td>
              <td>Delete storage pool</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_pool_format">format</a>
              </td>
              <td>Format storage pool</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_pool_getattr">getattr</a>
              </td>
              <td>Access storage pool</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_pool_read">read</a>
              </td>
              <td>Read storage pool</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_pool_refresh">refresh</a>
              </td>
              <td>Refresh storage pool</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_pool_save">save</a>
              </td>
              <td>Save storage pool</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_pool_search_storage_vols">search-storage-vols</a>
              </td>
              <td>List storage pool volumes</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_pool_start">start</a>
              </td>
              <td>Start storage pool</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_pool_stop">stop</a>
              </td>
              <td>Stop storage pool</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_pool_write">write</a>
              </td>
              <td>Write storage pool</td>
            </tr>
          </tbody>
        </table>
        <h3>
          <a name="object_storage_vol">virStorageVolPtr</a>
        </h3>
        <table class="acl">
          <thead>
            <tr>
              <th>Permission</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <a name="perm_storage_vol_create">create</a>
              </td>
              <td>Create storage volume</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_vol_data_read">data-read</a>
              </td>
              <td>Read storage volume data</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_vol_data_write">data-write</a>
              </td>
              <td>Write storage volume data</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_vol_delete">delete</a>
              </td>
              <td>Delete storage volume</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_vol_format">format</a>
              </td>
              <td>Format storage volume</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_vol_getattr">getattr</a>
              </td>
              <td>Access storage volume</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_vol_read">read</a>
              </td>
              <td>Read storage volume</td>
            </tr>
            <tr>
              <td>
                <a name="perm_storage_vol_resize">resize</a>
              </td>
              <td>Resize storage volume</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div id="nav">
      <div id="home">
        <a href="index.html">Home</a>
      </div>
      <div id="jumplinks">
        <ul>
          <li>
            <a href="downloads.html">Download</a>
          </li>
          <li>
            <a href="contribute.html">Contribute</a>
          </li>
          <li>
            <a href="docs.html">Docs</a>
          </li>
        </ul>
      </div>
      <div id="search">
        <form action="search.php" enctype="application/x-www-form-urlencoded" method="get">
          <div>
            <input name="query" type="text" size="12" value=""/>
            <input name="submit" type="submit" value="Go"/>
          </div>
        </form>
      </div>
    </div>
    <div id="footer">
      <div id="contact">
        <h3>Contact</h3>
        <ul>
          <li>
            <a href="contact.html#email">email</a>
          </li>
          <li>
            <a href="contact.html#irc">irc</a>
          </li>
        </ul>
      </div>
      <div id="community">
        <h3>Community</h3>
        <ul>
          <li>
            <a href="https://twitter.com/hashtag/libvirt">twitter</a>
          </li>
          <li>
            <a href="https://plus.google.com/communities/109522598353007505282">google+</a>
          </li>
          <li>
            <a href="http://stackoverflow.com/questions/tagged/libvirt">stackoverflow</a>
          </li>
          <li>
            <a href="http://serverfault.com/questions/tagged/libvirt">serverfault</a>
          </li>
        </ul>
      </div>
      <div id="conduct">
            Participants in the libvirt project agree to abide by <a href="governance.html#codeofconduct">the project code of conduct</a></div>
      <br class="clear"/>
    </div>
  </body>
</html>
